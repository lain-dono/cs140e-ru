# Задание 0: Blinky

## Материалы

[BCM2835 ARM Peripherals Manual](./docs/BCM2835-ARM-Peripherals.pdf)

[How to Use a Breadboard](https://learn.sparkfun.com/tutorials/how-to-use-a-breadboard)

[Raspberry Pi Foundation's GPIO Usage](https://www.raspberrypi.org/documentation/usage/gpio-plus-and-raspi2/README.md)

## Предисловие

Добро пожаловать в CS140e!
Мы очень рады, что вы решили присоединиться к нам для этого инаугурационного воплощения.
Надеемся, вам понравится этот класс, поскольку мы его разработали!
И, конечно же, мы надеемся, что вы узнаете тонну.

Мы надеемся сделать что-то по-другому в CS140e, чем в норме.
В частности, мы хотим, чтобы вы написали большую часть кода, и мы хотим,
чтобы ваш код исполнялся на реальном оборудовании, делая реальные вещи.
Для вас будет очень мало строительных лесов, и весь ваш код будет нацелен и запускаться на встроенной платформе Raspberry Pi 3,
основанной на четырехъядерных процессорах ARMv8 Cortex-A53.

В CS140e вы будете программировать в Rust,
«язык системного программирования, который работает невероятно быстро, предотвращает segfaults и гарантирует безопасность потоков».
Вы можете думать о Rust как о преемнике C и C ++, но более полезно думать это новый язык с новыми концепциями.
Не пытайтесь программировать в Rust, как если бы это C, C ++, Java или любой другой язык, к которому вы привыкли.
Вместо этого рассмотрите это как возможность изучить новый способ написания программного обеспечения - новый ржавый способ.
К концу срока мы думаем, вы согласитесь, что Rust поможет вам написать более правильное,
более надежное программное обеспечение - ключевые свойства для операционных систем!

Вы будете писать много кода в CS140e, хотя мы думаем,
что большая часть вашего времени будет потрачена, думая о том, что должно произойти.
Мы ожидаем, что для большинства заданий потребуется около 10-15 часов в неделю.
Вы ни в коем случае не должны затягиваться в CS140e.
Начните пораньше, задавайте вопросы и получайте удовольствие - вы узнаете гораздо больше,
если вы дадите себе возможность подумать о трудных проблемах.

Мы здесь, чтобы ответить на все вопросы. Пожалуйста, не стесняйтесь обращаться к нам. Удачи!

## Обзор
В этом задании вы настроите и испытаете среду разработки Raspberry Pi 3,
ARM64 для вашего использования на протяжении всего курса.
Вы установите необходимые инструменты и напишите свое первое приложение с белым металлом,
светодиодная мигающая программа на двух языках: C и Rust.

Это назначение разделено на 4 фазы.
На первом этапе вы установите необходимое программное обеспечение для связи с вашим Pi с вашего компьютера.
Вы также убедитесь, что ваш Pi работает так, как ожидалось, запустив предварительно скомпилированную программу.
На втором этапе вы подключите вывод 16 GPIO на вашем малине Pi к светодиоду на макете
и запустите вторую предварительно скомпилированную программу, чтобы обеспечить надежное соединение.
На третьем этапе вы установите кросс-компилятор aarch64-none-elf,
который позволит вам скомпилировать и связать программы для вашего Pi с вашей машины.
Вы будете писать, компилировать и связывать программу C, которая включает и выключает вывод 16 GPIO,
мигая светодиод, подключенный к вашему Pi.
Наконец, в фазе 4 вы установите Rust и необходимую инструментальную цепочку для записи,
компиляции и связывания одной и той же программы в Rust.





## 0: Начало работы

Во-первых, убедитесь, что вы работаете над этим заданием с помощью совместимой машины.
Для CS140e совместимость означает соотвествие следующим требованиям:

* В качестве ОС современная вариация Unix (не виртуалка): Linux, BSD или macOS
* 64-битный вариант этой ОС
* Имеются порты USB-A (или USB-C с USB-A адаптером)

И там установленно следующее програмное обеспечение:
`git`, `wget`, `tar`, `screen` и `make`.

Если вы используете Windows, мы предлагаем вам установить
[Ubuntu LTS](https://www.ubuntu.com/download/desktop)
или
[Fedora](https://getfedora.org/en/workstation/download/)
на дополнительный раздел.
Возможно использовать [Linux Subsystem for Windows](https://docs.microsoft.com/en-us/windows/wsl/install-win10),
но на данный момент мы
не будем предоставлять поддержку или отвечать на вопросы об этой конфигурации.

### Получение "железа"

Убедитесь, что у вас в наличии:

- 1 Raspberry Pi 3 model B
- 1 1/2-sized breadboard
- 1 microSD-карта на 4GB
- 1 адаптер для microSD-карт
- 1 CP2102 USB TTL adapter w/4 jumper cables
- 10 многоцветных светодиодов
- 4 резистора по 100 ом
- 4 резистора по 1 килоом
- 20 соеденительных проводов

**Внимание**:
Электроника чувствительна к статическому электричеству, поэтому убедитесь,
что вы заземляете себя, касаясь чего-то проводящего, прежде чем прикасаться к любой электронике.

Подготовьте два проводка, один резистор (любой из вышеперечисленных) и один светодиод.
Чуть позже нам пригодится и карта с адаптером.

### Получение стартового кода

Склонируйте нулевое задание из git-репозитория на вашу машину разработчика
и затем извлеките необходимые файлы, запустив `make fetch` внутри каталога:

```
git clone https://web.stanford.edu/class/cs140e/assignments/0-blinky/skeleton.git assignment0
cd assignment0
make fetch
```

Не стесняйтесь самостоятельно исследовать содержимое репозитория.


## 1: Подготовка Pi

## 2: Зажигаем светодиод

## 3: Няшный Си

## 4: Ржавчина


